{% extends "constructor/base.html" %}
{% load i18n %}
{% block content %}

<a href="{% url "program_detail" program.id %}">Вернуться в программу "{{program.title}}"</a>


    <div class="discipline-detail">
 
        <div class="ui segments">
            <div class="ui segment">
                <div class="discipline-title"><h1>Дисциплина "{{discipline.name}}"</h1></div>
                {% if dicsipline.description %}
                    <p>{{dicsipline.description}}</p>
                {% endif %} 
                <div class="disciplines">
                    <h2>Связанные с дисциплиной курсы:</h2>
                    <div class="ui segments">
                        {% for course in discipline.courses.all %}
                            <div class="ui segment">
                                <div class="ui floating label"><a href="{% url "course_remove" discipline.id course.id %}">Убрать</a></div>
                                <h3><a href="{% url "course_detail" course.id %}">{{course.title}} </a><span style="font-size:1rem;">[{{course.get_type_display}}]</span></h3>
                                
                                <div class="ui tiny statistic programs_count">
                        <div class="value">
                            {{course.programs_count}}
                        </div>
                        <div class="label">
                            Кол-во программ
                        </div>
                    </div>
                    <div class="ui tiny statistic profs_count">
                        <div class="value">
                            {{course.profs_count}}
                        </div>
                        <div class="label">
                            Кол-во профессий
                        </div>
                    </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <p>&nbsp;</p>

         <div class="ui segment">
            <button class="ui button" id="courses-button"><i class="expand icon"></i> Курсы</button>

                <div id= "courses" hidden="hidden">

                <div class="ui segment" style="margin-top: 10px;">

                {% for course in courses_available %}
                    <p><a href="{% url "course_add" discipline.id course.id %}"><i class="plus icon"></i></a> <a href="{% url "course_detail" course.id %}">{{course.title}}</a> <span style="font-size:1rem;">[{{course.get_type_display}}]</span></p>
                {% endfor %}
                </div>
                </div>
       <div>


        </div>
    </div>

<script type="text/javascript">

  /*  var button = document.getElementById("courses-button");
    button.onclick = function() {
    var div = document.getElementById('courses');
    if (div.style.display !== 'none') {
        div.style.display = 'none';
    }
    else {
        div.style.display = 'block';
    }
};*/

$( "#courses-button" ).click(function() {
  $( "#courses" ).toggle("fast");
});



</script>
<style type="text/css">
.profs_count {
        background-color: rgba(50, 138, 179, 0.5);
        padding: 5px 15px 5px 15px;
    }

    .programs_count {
        background-color: rgba(53,187,53,0.5);
        padding: 5px 15px 5px 15px;
    }
    </style>

{% endblock %}