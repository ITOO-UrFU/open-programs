{% extends "constructor/base.html" %}
{% load i18n %}

    
{% block content %}
<div class="module-detail">

<a href="{% url "program_detail" program.id %}">Вернуться в программу {{program.title}}</a>

        <div class="ui segments">
            <div class="ui segment">
                <div class="discipline-title"><h1>Модуль "{{module.title}}"</h1></div>
            </div>
        </div>
    <div class="module-description"><h2>Описание:</h2>
        <p>{{module.description}}</p>
    </div>

        <div class="modules">
            <h2>Дисциплины модуля:</h2>
            <div class="ui segments">
                {% for discipline in disciplines %}
                    <div class="ui segment">
                        <div class="ui floating label"><a href="{% url "discipline_remove" module.id discipline.id %}">Убрать</a></div>
                         <h3><a href="{% url "discipline_detail" discipline.id %}">Дисциплина "{{discipline.name}}"</a></h3>
                    </div>
                {% endfor %}
            </div>
        </div>
    
    <p>&nbsp;</p>
    
    <div class="avalible-disciplines">

    {% for discipline in disciplines_available %}

    <p><a href="{% url "discipline_add" module.id discipline.id %}"><i class="plus icon"></i></a> {{discipline.name}}</p>

    {% endfor %}
    </div>

     <div class="ui top attached tabular menu">
      <div class="active item">Создать новую дисциплину</div>
    </div>
    <div class="ui bottom attached active tab segment">

    <form class="ui form" action="{% url "discipline_create" module.id %}" method="post">{% csrf_token %}
       
          
          <div class="field">
            <label>Название дисциплины</label>
            <input id="id_name" maxlength="256" name="name" type="text" required=""placeholder="Введите название дисциплины">
          </div>
          
          <div class="field">
            <label>Количество зачетных единиц</label>
            <input id="id_points" min="0" name="points" type="number" required="" placeholder="Введите количество зачетных единиц">
          </div>
  
    <div class="field">
    <label>Форма контроля</label>
          <select class="ui fluid search dropdown" id="id_form" name="form" required="">
                <option value="e">Экзамен</option>
                <option value="z">Зачет</option>
          </select>
    </div>
          <button type="submit" value="Добавить" class="ui button">Добавить</button>

    </form>
</div>

</div>
    <style type="text/css">
    .ui.segments .ui.segment, .ui.tabular.menu .active.item, .ui.attached:not(.message)+.ui.attached.segment:not(.top) {
        background-color: rgba(53,187,53,0.1);
    }
    </style>
{% endblock %}